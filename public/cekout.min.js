// @ts-nocheck
document.addEventListener("DOMContentLoaded",(function(){const e=e=>"Rp "+(Number(e)||0).toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")+",00",t=Array.from(document.querySelectorAll(".qty-control")),n=Array.from(document.querySelectorAll(".delivery-item")),l=document.getElementById("deliveryRow");function a(){let n=0,l=0;t.forEach((e=>{const t=Number(e.dataset.price||0),a=Number(e.querySelector(".qty-input").value)||0;l+=t*a,n+=a}));const a=document.getElementById("subtotalRp"),c=document.getElementById("shippingFee"),o=document.getElementById("totalRp");let r=0;switch(document.querySelector(".delivery-item.active")?.dataset.method||"regular"){case"regular":default:r=15e3;break;case"nextday":r=2e4;break;case"sameday":r=3e4;break;case"instant":r=5e4;break;case"self":r=5e3}const i=r*Math.max(1,Math.ceil(n/5)),d=l+i;a&&(a.textContent=e(l)),c&&(c.textContent=e(i)),o&&(o.textContent=e(d))}t.forEach((e=>{const t=e.querySelector(".dec"),n=e.querySelector(".inc"),l=e.querySelector(".qty-input");t.addEventListener("click",(()=>{let e=Number(l.value)||0;e>0&&(l.value=e-1),a()})),n.addEventListener("click",(()=>{let e=Number(l.value)||0;l.value=e+1,a()})),l.addEventListener("input",(()=>{l.value=l.value.replace(/[^\d]/g,""),""===l.value&&(l.value="0"),a()}))})),n.forEach((e=>{e.addEventListener("click",(()=>{if(n.forEach((e=>{e.classList.remove("active"),e.setAttribute("aria-pressed","false")})),e.classList.add("active"),e.setAttribute("aria-pressed","true"),"function"==typeof e.scrollIntoView)e.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"});else if(l){const t=l.getBoundingClientRect(),n=e.getBoundingClientRect(),a=n.left+n.width/2-(t.left+t.width/2);l.scrollBy({left:a,behavior:"smooth"})}a()}))}));const c=document.getElementById("placeOrder");c&&c.addEventListener("click",(()=>{const e=document.getElementById("subtotalRp")?.textContent||"",t=document.getElementById("shippingFee")?.textContent||"",l=document.getElementById("totalRp")?.textContent||"",a=n.find((e=>e.classList.contains("active")))?.dataset.method||"";alert("Place Order clicked\n"+e+"\nShipping: "+t+"\nTotal: "+l+"\nDelivery: "+a+"\n(Implement real flow di sini)")})),a()}));